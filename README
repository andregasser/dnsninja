                               ==DNSNINJA==

                        Version 0.1 / 26.03.2012

--=[ Disclaimer ]=-----------------------------------------------------//

This document describes DNSNINJA, a tool to perform dictionary based
queries against DNS servers. The author of this document provides the
software AS IS and and cannot be made responsible for any damage that
may occur while using this tool.

This software may contain errors or may not work properly in certain
circumstances. Therefore, use this tool at your own risk. 

You can use this tool free of charge and you are allowed to freely
modify and distribute it.




--[ Contents ]----------------------------------------------------------

1 - Introduction

2 - The Tool
  2.1 - Overview
  2.2 - Features
  2.3 - Usage
	2.3.1 - Command-line Arguments
    2.3.2 - Doing Forward DNS Lookups
    2.3.3 - Doing Reverse DNS Lookups
    2.3.4 - Saving Results to a File
  2.4 - How to get it
  2.5 - Building from Source
  2.6 - License
  2.7 - Similar Tools

3 - Bibliography

4 - Contact




--[ 1 - Introduction ]--------------------------------------------------



--[ 2 - The Tool ]------------------------------------------------------

----[ 2.1 - Overview ]--------------------------------------------------

DNSNINJA is a tool to query DNS servers by using prepared wordlists.
People usually use a tool like this, if the are not the owner of the
DNS server and therefore do not have access to the zone data on the 
server. Nevertheless, they want to enumerate / discover hosts located in
a certain zone.

By using DNSNINJA, they get the possibility to do forward DNS lookups by
providing a list of hostnames. But they can also do reverse DNS lookups
(aka inverse DNS lookups) to identify domain names based on ip
addresses.

A tool like this can generate heavy load on the target. It is therefore
adviced to take caution. System administrators at the target's site
could interpret such scans as some kind of attack and take counter-
measures.

You have been warned.


----[ 2.2 - Features ]--------------------------------------------------

the current version of DNSNINJA offers the following features:

  + Do forward DNS lookups based on wordlist
  + Do reverse DNS lookups based on a list of ip addresses
  + Query up to five DNS servers in parallel to distribute the load
  + Save the results to a text file
  + Supports different verbosity levels for output
  

----[ 2.3 - Usage ]-----------------------------------------------------

----[ 2.3.1 - Command-line Arguments ]----------------------------------

The following command-line arguments are supported:

--reverse, -r                   

    Do reverse DNS lookups. If not specified, a forward DNS lookup will
    be performed.

--servers=<ip1,ip2,...>, -s <ip1,ip2,...>
	
	List of DNS servers, which shall be used as targets for DNS queries.

--domain=<domain name>, -d <domain name>

    When doing forward DNS lookups, the top- and second-level-domain can 
    be specified here (e.g. foo.org).

--inputfile=<filename>, -i <filename>      

    The file containing either a list of ip-addresses or host names, 
    depending on the lookup mode (reverse, forward).
                                
--outputfile=<filename>, -o <filename>     

    Allows you to write the query results into a simple, comma-separated
    CSV-file. This allows you to further process the results in other 
    tools.
                                
--verbosity=<level>, -v <level>         

    Specify verbosity level. The following levels are allowed:
        1 = Errors only
        2 = Informational output
        3 = Debug Output

--help, -h 

    Display help page.


----[ 2.3.2 - Doing Forward DNS Lookups ]-------------------------------

Usage of this tool is quite simple. Do do a simple forward DNS lookup
search based on a wordlist, run the following command:

$ ./dnsninja -s 111.222.333.444 -d mydomain.com -i myhosts.txt

This connects to the DNS server 111.222.333.444 and sends queries for the
mydomain.com domain. It uses the file myhosts.txt which contains entries like
these:

$ cat myhosts.txt
www
backup
mail
webmail
gatekeeper
www1
www2
www3

The myhosts.txt file and the specified domain are used to form DNS queries
such as:

www.mydomain.com
backup.mydomain.com
...

If a host has been found, the ip address of this host is returned.


----[ 2.3.3 - Doing Reverse DNS Lookups ]-------------------------------

Doing reverse DNS lookups works similar. To do reverse DNS lookups based
on a list of ip addresses, run the following command:

$ ./dnsninja -r -s 111.222.333.444 -i myips.txt

Again, the DNS server 111.222.333.444 is contacted to DNS PTR queries will
be sent to this machine. As a result, you will receive the name of the 
domains associated with that ip. 


----[ 2.3.4 - Saving Output to a File ]---------------------------------




----[ 2.4 - How to get it ]---------------------------------------------

You'll always find the latest version of this tool on GitHub.

blabla...


----[ 2.5 - Building from Source ]--------------------------------------

Befor you can build the tool from source, your system must meet some
preconditions. Currently they are:

  + gcc must be installed.
  + make must be installed.

The source distribution can be built from source by conducting the
following steps on your box:

  1. Copy the file dnsninja-<version>.tar.gz to your linux box. Make
     sure, it is located in a dedicated directory, since extraction
	 will put the files directly in there.

  2. Extract the tarball using:

     $ tar xvf dnsninja-<version>.tar.gz

  3. Compile the source code using:

     $ make

	 Optionally, you can compile it in debug mode in order to add debug
	 information to the resulting binary. You'll need that only if you
	 like to debug using gdb. To create a debug binary invoke:

     $ make DEBUG=1

The resulting binary is now ready to use.


----[ 2.6 - License ]---------------------------------------------------

Copyright 2012 Andr√© Gasser

Dnsninja is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Dnsninja is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Dnsninja.  If not, see <http://www.gnu.org/licenses/>.


----[ 2.7 - Similar Tools ]---------------------------------------------

This tool was partly inspired by other tools like this. These are:

+ dnsmap by pagvac
  (http://code.google.com/p/dnsmap

+ dns-discovery by m0nad
  (http://code.google.com/p/dns-discovery)


----[ 3 - Bibliography ]------------------------------------------------

[1] Reverse DNS lookups
    http://www.xinotes.org/notes/note/1665/  

[2] RFC 1034 - Domain Names - Concepts and Facilities
    http://www.ietf.org/rfc/rfc1035.txt

[3] RFC 1035 - Domain Implementation and Specification
    http://www.ietf.org/rfc/rfc1035.txt
    
----[ 4 - Contact ]-----------------------------------------------------

Mail:      andre.gasser@gmx.ch
Jabber:    sh0ka@jabber.ccc.de

